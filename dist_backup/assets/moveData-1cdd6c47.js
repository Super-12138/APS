import{_ as F,aL as E,aJ as T,q as M,s as S,r as d,$ as I,c as h,d as n,e as o,h as v,f as i,a4 as f,o as m,F as N,a2 as V,p as A,l as L,i as O}from"./index-ba92c6b8.js";import{E as R,a as U}from"./el-table-column-fef6b0da.js";import"./el-checkbox-55ac5a6b.js";import"./el-scrollbar-7101c886.js";import{E as q,a as J}from"./el-select-e5188bed.js";import"./isEqual-3fc68a3b.js";const u=r=>(A("data-v-3f229ad4"),r=r(),L(),r),W={class:"container"},$={class:"head"},j=u(()=>n("span",null,"产品族:",-1)),z=u(()=>n("span",null,"上移",-1)),G=[z],H=u(()=>n("span",null,"下移",-1)),K=[H],Q=u(()=>n("span",null,"保存",-1)),X=[Q],Y={class:"main"},Z={__name:"moveData",setup(r){const _=E(),e=T();M();const b=S();d(!1),d();const p=d([]);function g(){e.getAllProductFamily().then(a=>{console.log("点开了产品族的下拉框")}).catch(a=>{})}function y(a){e.getProcessCapacityByProductFamily(a).then(t=>{}).catch(t=>{})}function D(){const a=p.value;if(a.length!==1){f.alert("请选中一行移动","提示",{confirmButtonText:"好的"});return}const t=e.moveData.indexOf(a[0]);if(t>0){const l=e.moveData[t-1];e.moveData[t-1]=e.moveData[t],e.moveData[t]=l}}function x(){const a=p.value;if(a.length!==1){f.alert("请选中一行移动","提示",{confirmButtonText:"好的"});return}const t=e.moveData.indexOf(a[0]);if(t<e.moveData.length-1){const l=e.moveData[t+1];e.moveData[t+1]=e.moveData[t],e.moveData[t]=l}}I(()=>Array.from({length:e.createBasePlan.number},(a,t)=>t+1));const P=d(null);function k(){e.updateProcessNumber(e.moveData).then(a=>{e.createBasePlan.productFamily="",e.moveData=[],b.back();let t=_.tabsList.find(l=>l.name==="moveData");_.closeTab(t)}).catch(a=>{}),console.log(e.createBasePlan.data)}function w(a){p.value=a}return(a,t)=>{const l=J,B=q,s=U,C=R;return m(),h("div",W,[n("div",$,[j,o(B,{class:"product",id:"selectProductFamily",modelValue:i(e).createBasePlan.productFamily,"onUpdate:modelValue":t[0]||(t[0]=c=>i(e).createBasePlan.productFamily=c),placeholder:"Select",onClick:g,onChange:y},{default:v(()=>[(m(!0),h(N,null,V(i(e).productFamily,c=>(m(),O(l,{key:c,label:c,value:c},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),n("button",{onClick:D,class:"group save first"},G),n("button",{onClick:x,class:"group save"},K),n("button",{onClick:k,class:"group save"},X)]),n("div",Y,[o(C,{data:i(e).moveData,border:"","cell-style":{borderColor:"#9db9d6",textAlign:"center"},"header-cell-style":{borderColor:"#9db9d6",background:"#d9e9f8",color:"#000",textAlign:"center",fontWeight:"500"},"row-key":"id",onSelectionChange:w,ref_key:"myTable",ref:P},{default:v(()=>[o(s,{type:"selection","reserve-selection":!0,label:"",width:"35",class:"one"}),o(s,{prop:"belongingProcess",label:"所属工序",width:"120"}),o(s,{prop:"productFamily",label:"产品族",width:"130"}),o(s,{prop:"processNumber",label:"工序ID",width:"110"}),o(s,{prop:"processName",label:"工序名称"}),o(s,{prop:"packagingMethod",label:"包装方式",width:"120"}),o(s,{prop:"standardTime",label:"标准工时",width:"120"}),o(s,{prop:"maxPersonnel",label:"人员Max",width:"120"}),o(s,{prop:"minPersonnel",label:"人员Min",width:"120"})]),_:1},8,["data"])])])}}},le=F(Z,[["__scopeId","data-v-3f229ad4"]]);export{le as default};
